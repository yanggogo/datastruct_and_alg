# 优先队列

优先队列，一般的实现方式就是二叉堆

## 概念

1. 完全二叉树
2. 堆序性
3. 上滤（percolate up），下滤（precolate down）
4. 标记（sentinel）

## 二叉堆

堆是一个**完全二叉树**
**堆序性**：在一个堆中，对于每个节点X，X的父亲都小于X

### 实现

堆结构一般使用数组即可表示，需要实现两个基本操作**插入**和**删除最小元素**

1. 插入
  使用上滤，避免使用交换数据。
  使用sentinel跳出循环

    ```dot
    digraph G {
        label = "插入数值14"
        13 -> 21; 13 -> 16; 21 -> 24; 21 -> 31;
        16 -> 19; 16 -> 68; 24 -> 65; 24 -> 26;
        31 -> 32; 31 -> "" [style="dotted"]
    }
    ```

    ```dot
    digraph G {
        label = "插入数值14"
        13 -> 21; 13 -> 16; 21 -> 24; 21 -> "" [style="dotted"];
        16 -> 19; 16 -> 68; 24 -> 65; 24 -> 26;
        "" -> 32; "" -> 31 [style="dotted"]
    }
    ```

    ```dot
    digraph G {
        label = "插入数值14"
        13 -> "" [style="dotted"]; 13 -> 16; "" -> 24; "" -> 21 [style="dotted"];
        16 -> 19; 16 -> 68; 24 -> 65; 24 -> 26;
        21 -> 32; 21 -> 31 [style="dotted"]
    }
    ```

2. 删除最小元素
  使用下滤，避免使用交换数据  

    ```dot
    digraph G {
        label = "删除最小元素13"
        13 -> "14"; 13 -> 16; "14" -> 20; "14" -> 21;
        16 -> 19; 16 -> 68; 20 -> 65; 20 -> 26;
        21 -> 32; 21 -> 31
    }
    ```

    ```dot
    digraph G {
        label = "删除最小元素13"
        "" -> "14"; "" -> 16; "14" -> 20; "14" -> 21;
        16 -> 19; 16 -> 68; 20 -> 65; 20 -> 26;
        21 -> 32; 21 -> 31 [style="invisible"]
    }
    ```

    ```dot
    digraph G {
        label = "删除最小元素13"
        14 -> "" [style="dotted"]; 14 -> 16; "" -> 20; "" -> 21;
        16 -> 19; 16 -> 68; 20 -> 65; 20 -> 26;
        21 -> 32; 21 -> 31 [style="invisible"]
    }
    ```

    ```dot
    digraph G {
        label = "删除最小元素13"
        14 -> "" [style="dotted"]; 14 -> 16; "" -> 20; "" -> 21;
        16 -> 19; 16 -> 68; 20 -> 65; 20 -> 26;
        21 -> 32; 21 -> 31 [style="invisible"]
    }
    ```

    ```dot
    digraph G {
        label = "删除最小元素13"
        14 -> "20" [style="dotted"]; 14 -> 16; "20" -> "" [style="dotted"]; "20" -> 21 ;
        16 -> 19; 16 -> 68; "" -> 65; "" -> 26;
        21 -> 32; 21 -> 31 [style="invisible"]
    }
    ```

    ```dot
    digraph G {
        label = "删除最小元素13"
        14 -> "20" [style="dotted"]; 14 -> 16; "20" -> "26" [style="dotted"]; "20" -> 21 ;
        16 -> 19; 16 -> 68; "26" -> 65; "26" -> "" [style="dotted"];
        21 -> 32; 21 -> 31 [style="invisible"]
    }
    ```

    ```dot
    digraph G {
        label = "删除最小元素13"
        14 -> "20" [style="dotted"]; 14 -> 16; "20" -> "26" [style="dotted"]; "20" -> 21 ;
        16 -> 19; 16 -> 68; "26" -> 65; "26" -> "31" [style="dotted"];
        21 -> 32
    }
    ```

3. DecreaseKey（降低关键字的值）
4. IncreaseKey（增加关键字的值）
5. Delete（删除）
6. BuildHeap（构建堆）

### 应用



## 实践

1. 学习python库里的heapq和优先队列
